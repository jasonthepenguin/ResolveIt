[gd_scene load_steps=20 format=3 uid="uid://crwldh8o2res2"]

[ext_resource type="Script" path="res://knowledge_based_agents/scripts/WorldState.gd" id="1_7wrub"]
[ext_resource type="Script" path="res://knowledge_based_agents/scripts/debug_utils.gd" id="2_qxibw"]
[ext_resource type="PackedScene" uid="uid://bdaq6bfixbty2" path="res://knowledge_based_agents/scenes/vr_lab2.tscn" id="3_pxpvh"]
[ext_resource type="PackedScene" uid="uid://cvx7s6x5vdo0e" path="res://knowledge_based_agents/AIAgent/TeacherAgent.tscn" id="21_cfg77"]
[ext_resource type="Texture2D" uid="uid://dusgatgam4nlf" path="res://assets/ict398_presentation.png" id="25_5xdo1"]
[ext_resource type="Script" path="res://knowledge_based_agents/scripts/Projector.gd" id="26_tunn7"]
[ext_resource type="Script" path="res://player.gd" id="27_si2vn"]
[ext_resource type="Script" path="res://camholder.gd" id="28_7cnmy"]
[ext_resource type="Script" path="res://knowledge_based_agents/scripts/Affordance.gd" id="29_il4p2"]
[ext_resource type="Script" path="res://log manager/LogDisplay.gd" id="32_e1aty"]

[sub_resource type="NavigationMesh" id="NavigationMesh_v2glv"]
vertices = PackedVector3Array(-6.55544, 6.00515, -8.42704, -6.55544, 6.00515, 8.07296, 6.44456, 6.00515, 8.07296, 6.44456, 6.00515, -8.42704, 3.19456, 0.505145, -2.42704, 5.69456, 0.505145, -2.42704, 5.69456, 0.505145, -3.67704, 2.94456, 0.505145, -3.67704, 2.69456, 0.505145, -5.92704, 5.69456, 0.505145, -7.67704, -5.80544, 0.505145, -7.67704, -3.05544, 0.505145, -5.92704, 3.19456, 0.505145, -2.42704, 2.94456, 0.505145, -3.67704, 2.19456, 0.505145, -4.42704, -3.30544, 0.505145, -3.67704, -5.80544, 0.505145, -3.67704, -5.80544, 0.505145, -2.42704, -3.30544, 0.505145, -2.42704, -2.55544, 0.505145, -5.42704, 2.19456, 0.505145, -5.17704, 2.69456, 0.505145, -5.92704, -3.05544, 0.505145, -5.92704, -2.55544, 0.505145, -4.42704, -3.30544, 0.505145, -3.67704, -3.30544, 0.505145, -2.42704, -2.55544, 0.505145, -1.17704, 2.19456, 0.505145, -1.17704, 3.19456, 0.505145, -2.42704, 2.19456, 0.505145, -4.42704, -2.55544, 0.505145, -4.42704, -3.30544, 0.505145, -2.42704, -2.55544, 0.505145, -4.42704, 2.19456, 0.505145, -4.42704, 2.19456, 0.505145, -5.17704, -2.55544, 0.505145, -5.42704, -5.80544, 0.505145, -7.67704, -5.80544, 0.505145, -5.92704, -3.05544, 0.505145, -5.92704, 2.69456, 0.505145, -5.92704, 5.69456, 0.505145, -5.92704, 5.69456, 0.505145, -7.67704, -3.80544, 1.25515, -4.92704, -3.80544, 1.00515, -4.17704, -3.05544, 1.00515, -4.42704, -3.05544, 1.00515, -5.42704, 2.69456, 1.00515, -4.42704, 3.44456, 1.00515, -4.17704, 3.44456, 1.00515, -5.17704, 2.69456, 1.00515, -5.17704, 3.69456, 1.50515, -4.92704, 4.44456, 1.50515, -4.67704, 4.44456, 1.50515, -5.17704, -3.80544, 1.25515, -1.17704, -3.05544, 1.00515, -0.677041, -3.05544, 1.00515, -1.67704, 2.69456, 1.00515, -1.42704, 2.94456, 1.00515, -0.677041, 3.44456, 1.00515, -0.927041, 3.19456, 1.00515, -1.67704, -5.80544, 1.50515, -0.927041, -4.80544, 1.00515, -0.927041, -5.05544, 1.50515, -1.42704, -5.80544, 1.50515, -1.42704, -4.55544, 1.50515, -1.42704, -4.55544, 1.50515, -0.927041, -3.80544, 1.25515, -1.17704, 3.69456, 1.50515, -1.42704, 3.69456, 1.50515, -0.927041, 4.44456, 1.50515, -0.927041, 4.44456, 1.50515, -1.42704, 4.69456, 1.50515, -1.42704, 4.69456, 1.50515, -0.927041, 5.44456, 1.50515, -0.927041, 5.44456, 1.50515, -1.42704, -5.80544, 0.505145, -0.177041, -5.80544, 0.505145, 1.32296, -3.30544, 0.505145, 1.32296, -3.05544, 0.505145, -0.177041, -2.55544, 0.505145, 1.82296, -2.55544, 0.505145, 2.82296, -0.55544, 0.505145, 5.07296, -3.05544, 0.505145, -0.177041, -3.30544, 0.505145, 1.32296, -2.55544, 0.505145, 1.82296, -2.55544, 0.505145, -1.17704, 0.69456, 0.505145, 5.07296, 2.19456, 0.505145, 2.82296, 2.19456, 0.505145, 2.07296, 2.94456, 0.505145, 1.32296, 5.69456, 0.505145, 1.32296, 5.69456, 0.505145, -0.177041, 2.69456, 0.505145, -0.177041, -0.55544, 0.505145, 5.07296, 0.69456, 0.505145, 5.07296, 2.19456, 0.505145, 2.07296, 2.19456, 0.505145, -1.17704, -2.55544, 0.505145, -1.17704, -2.55544, 0.505145, 1.82296, 2.19456, 0.505145, 2.07296, 2.94456, 0.505145, 1.32296, 2.69456, 0.505145, -0.177041, 2.19456, 0.505145, -1.17704, 2.69456, 1.00515, 2.07296, 2.69456, 1.00515, 2.82296, 3.44456, 1.25515, 2.82296, 3.44456, 1.00515, 1.82296, -3.55544, 1.00515, 2.32296, -3.55544, 1.00515, 3.07296, -3.05544, 1.00515, 3.07296, -3.05544, 1.00515, 2.07296, 2.19456, 0.505145, 2.82296, 0.69456, 0.505145, 5.07296, 1.19456, 0.505145, 5.32296, 2.94456, 0.505145, 3.57296, -0.80544, 0.505145, 6.82296, -1.05544, 0.505145, 5.32296, -3.05544, 0.505145, 3.57296, -5.80544, 0.505145, 3.57296, -5.80544, 0.505145, 8.07296, -1.05544, 0.505145, 5.32296, -0.55544, 0.505145, 5.07296, -2.55544, 0.505145, 2.82296, -3.05544, 0.505145, 3.57296, -0.80544, 0.505145, 6.82296, -5.80544, 0.505145, 8.07296, 5.69456, 0.505145, 8.07296, 1.19456, 0.505145, 6.57296, 2.94456, 0.505145, 3.57296, 1.19456, 0.505145, 5.32296, 1.19456, 0.505145, 6.57296, 5.69456, 0.505145, 8.07296, 5.69456, 0.505145, 3.57296, -0.55544, 1.75515, 5.57296, -0.55544, 1.50515, 6.32296, 0.69456, 1.50515, 6.32296, 0.69456, 1.75515, 5.57296)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(11, 10, 8), PackedInt32Array(8, 10, 9), PackedInt32Array(12, 14, 13), PackedInt32Array(18, 17, 15), PackedInt32Array(15, 17, 16), PackedInt32Array(19, 22, 20), PackedInt32Array(20, 22, 21), PackedInt32Array(25, 24, 23), PackedInt32Array(31, 30, 26), PackedInt32Array(26, 30, 29), PackedInt32Array(26, 29, 27), PackedInt32Array(27, 29, 28), PackedInt32Array(33, 32, 34), PackedInt32Array(34, 32, 35), PackedInt32Array(38, 37, 36), PackedInt32Array(41, 40, 39), PackedInt32Array(43, 42, 44), PackedInt32Array(44, 42, 45), PackedInt32Array(49, 48, 46), PackedInt32Array(46, 48, 47), PackedInt32Array(52, 51, 50), PackedInt32Array(55, 54, 53), PackedInt32Array(59, 58, 56), PackedInt32Array(56, 58, 57), PackedInt32Array(63, 62, 60), PackedInt32Array(60, 62, 61), PackedInt32Array(66, 65, 64), PackedInt32Array(70, 69, 67), PackedInt32Array(67, 69, 68), PackedInt32Array(74, 73, 71), PackedInt32Array(71, 73, 72), PackedInt32Array(76, 75, 77), PackedInt32Array(77, 75, 78), PackedInt32Array(81, 80, 79), PackedInt32Array(83, 82, 84), PackedInt32Array(84, 82, 85), PackedInt32Array(88, 87, 86), PackedInt32Array(90, 89, 91), PackedInt32Array(91, 89, 92), PackedInt32Array(94, 93, 95), PackedInt32Array(95, 93, 98), PackedInt32Array(95, 98, 97), PackedInt32Array(95, 97, 96), PackedInt32Array(100, 99, 101), PackedInt32Array(101, 99, 102), PackedInt32Array(104, 103, 105), PackedInt32Array(105, 103, 106), PackedInt32Array(108, 107, 109), PackedInt32Array(109, 107, 110), PackedInt32Array(113, 112, 114), PackedInt32Array(114, 112, 111), PackedInt32Array(116, 115, 117), PackedInt32Array(117, 115, 118), PackedInt32Array(118, 115, 119), PackedInt32Array(120, 123, 121), PackedInt32Array(121, 123, 122), PackedInt32Array(127, 126, 124), PackedInt32Array(124, 126, 125), PackedInt32Array(129, 128, 130), PackedInt32Array(130, 128, 132), PackedInt32Array(130, 132, 131), PackedInt32Array(136, 135, 133), PackedInt32Array(133, 135, 134)]
agent_height = 1.47
agent_radius = 0.25

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8box1"]
emission_enabled = true
emission_texture = ExtResource("25_5xdo1")
texture_repeat = false

[sub_resource type="QuadMesh" id="QuadMesh_pk77h"]
material = SubResource("StandardMaterial3D_8box1")

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_62lgu"]
radius = 0.25

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_aw10k"]
albedo_color = Color(1, 0, 1, 1)

[sub_resource type="SphereMesh" id="SphereMesh_cq5sl"]
material = SubResource("StandardMaterial3D_aw10k")

[sub_resource type="NavigationMesh" id="NavigationMesh_oi7a0"]
vertices = PackedVector3Array(-4.5, 0.5, -22.447, -4.5, 0.5, -13.447, 4.5, 0.5, -13.447, 4.5, 0.5, -22.447)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[sub_resource type="BoxShape3D" id="BoxShape3D_s73h0"]
size = Vector3(10, 1, 10)

[sub_resource type="BoxMesh" id="BoxMesh_egtqr"]

[node name="Scene" type="Node3D"]

[node name="WorldState" type="Node" parent="."]
script = ExtResource("1_7wrub")

[node name="Debug" type="Node" parent="."]
script = ExtResource("2_qxibw")

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_v2glv")

[node name="VR Lab" parent="NavigationRegion3D" instance=ExtResource("3_pxpvh")]

[node name="TeacherAgent" parent="." instance=ExtResource("21_cfg77")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.19247, 0.740571, -6.32035)
agent_show_debug = true

[node name="Projector" type="MeshInstance3D" parent="."]
transform = Transform3D(-4.307, 0, -1.02677e-08, 0, 2.723, 0, 6.50339e-07, 0, -0.068, 0.0159473, 2.64128, 8.35915)
mesh = SubResource("QuadMesh_pk77h")
script = ExtResource("26_tunn7")

[node name="Affordance" type="Node" parent="Projector"]
script = ExtResource("29_il4p2")
affordances = 256

[node name="Player" type="CharacterBody3D" parent="."]
transform = Transform3D(0.487928, 0, -0.459158, 0, 0.67, 0, 0.459158, 0, 0.487928, -3.14083, 2.38419e-07, 0.602844)
script = ExtResource("27_si2vn")
SPEED = 3.0

[node name="CollisionShape3D" type="CollisionShape3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_62lgu")

[node name="camholder" type="Node3D" parent="Player"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.000118017, 1.76171, -4.00543e-05)
script = ExtResource("28_7cnmy")

[node name="Camera3D" type="Camera3D" parent="Player/camholder"]

[node name="Marker3D" type="Marker3D" parent="."]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0.131568, 0.00557089, 7.11529)

[node name="Affordance" type="Node" parent="Marker3D"]
script = ExtResource("29_il4p2")
affordances = 4

[node name="MeshInstance3D" type="MeshInstance3D" parent="Marker3D"]
transform = Transform3D(0.5, 0, 0, 0, 0.5, 0, 0, 0, 0.5, 0, 0, 0)
visible = false
mesh = SubResource("SphereMesh_cq5sl")

[node name="NavigationRegion3D2" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_oi7a0")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, -17.947)

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D2/StaticBody3D"]
shape = SubResource("BoxShape3D_s73h0")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D2/StaticBody3D"]
transform = Transform3D(10, 0, 0, 0, 1, 0, 0, 0, 10, 0, 0, 0)
mesh = SubResource("BoxMesh_egtqr")

[node name="LogDisplay" type="CanvasLayer" parent="."]
script = ExtResource("32_e1aty")

[node name="LogContainer" type="PanelContainer" parent="LogDisplay"]
clip_contents = true
custom_minimum_size = Vector2(500, 150)
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -150.0
offset_right = 500.0
grow_vertical = 0
size_flags_horizontal = 0

[node name="MessagesContainer" type="VBoxContainer" parent="LogDisplay/LogContainer"]
layout_mode = 2
alignment = 2
